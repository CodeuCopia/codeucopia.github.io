<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Barlow' rel='stylesheet'>
    <style>
        .filters {
          display: flex;
          justify-content: flex-start;
          margin-bottom: 20px;
          font-family: 'Barlow', sans-serif;
          width: 90%;
          height: 50px;
          background-color: #ebf2cc;
          border-radius: 10px;
          margin-left: 5%;
          margin-top: 20px; 
        }

        .filters select {
          position: relative;
          margin-top: 10px;
          margin-right: 2%;
          background:#f8fce5;
          border: 0.2px solid rgb(119, 164, 119);
          padding-left: 18px;
          border-radius: 10px;
          width: 17%;
          height: 30px;
          font-size: 15px;
          color: rgb(119, 164, 119);
        }

       .search input[type=text] {
          width: 20%;
          height: 30px;
          border-radius: 10px;
          position: absolute;
          margin-top: 5px;
          border: 0.2px solid rgb(119, 164, 119);
          border-radius: 10px;
          background: #f8fce5;
          color: rgb(119, 164, 119);
          font-size: 15px;
          padding: 18px 15px;
        }
        ::placeholder {
          color:  rgb(119, 164, 119);
        }

        .bar {
           width: 50%;
           height: 80px;
           background-color: #eff7cf;
           border-radius: 10px;
           margin: auto;  
       }

       .bar ul {
          text-align: end;
           list-style: none;
           display: flex;
           align-items: center;
           height: 100%;
       }

       .bar ul li {
           display: inline-block;
           line-height: 100px;
           text-decoration: none;
           font-size: 15px;
           color:  #1e1e1e;
           padding: 0 20px;
       }

       .bar ul li:hover {
           color: rgb(98, 138, 28);
       }

       .all_members {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
        }
        .card {
            position: relative;
            width: calc(100% - 10px);
            height: 250px; 
            background-color: transparent;
            perspective: 1000px;
            box-sizing: border-box;
        }
        .card_inner {
            position: absolute;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        }
        .card_front {
            border: 3.5px solid green;
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background-color: #f3fffa;
            color: black;
        }
        .card_back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background-color: #f3fffa;
            color: black;
        }

        .lesson-list {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 20px;
        }

        .lesson-card {
          background-color: #fff;
          border: 1px solid #ddd;
          border-radius: 8px;
          padding: 20px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        }

        .lesson-card h3 {
          margin-top: 0;
        }

        .lesson-card .slideshow {
          width: 100%;
          height: 200px;
          background-color: #eee;
          margin: 20px 0;
        }

        .lesson-card .tags {
          display: flex;
          flex-wrap: wrap;
        }

        .lesson-card .tag {
          background-color: #007bff;
          color: #fff;
          border-radius: 4px;
          padding: 5px 10px;
          margin-right: 5px;
          margin-bottom: 5px;
        }


    </style>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  </head>
  <body>
    <!--Navigation bar-->
    <div id="nav-placeholder"></div>
    
    <script>
    $(function(){
      $("#nav-placeholder").load("navBar.html");
    });
    </script>

    <!--end of Navigation bar-->
    <main>
        <div id="pastLessons" class="page">  
          <div style="text-align: center;">
            <h1 style="margin-top: 30px" class="topText">Past Lessons</h1>
            <p style="margin-top: 8px; margin-bottom: 30px"> Below you'll find lessons we've taught in highschools and middleschools </p>
          </div>
          <nav class = "bar">
            <ul>
              <li>Featured Lessons 2024</li>
              <li><a href="#archive">Archive</a></li>
            </ul>
          </nav>

          <div style="margin-top: 20px" class="all_members">
            <div class="card">
                <div class="card_inner">
                    <div class="card_front">
                        <img src="https://cdn.kastatic.org/third_party/javascript-khansrc/live-editor/build/images/avatars/aqualine-seed.png">
                        <h3 id="ahana_title">Ahana Gholkar<br><small><small>Co-founder</small></small></h3>
                    </div>
                    <div class="card_back">
                      <img src="https://cdn.kastatic.org/third_party/javascript-khansrc/live-editor/build/images/avatars/aqualine-seed.png">
                        <p>the most awesome person ever</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card_inner">
                    <div class="card_front">
                        <img src="https://cdn.kastatic.org/third_party/javascript-khansrc/live-editor/build/images/avatars/aqualine-seed.png">
                        <h3 id="linnrue_title">Linnrue Wei<br><small><small>Co-founder</small></small></h3>
                    </div>
                    <div class="card_back">
                      <img src="https://cdn.kastatic.org/third_party/javascript-khansrc/live-editor/build/images/avatars/aqualine-seed.png">
                        <p>the most awesome person ever</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card_inner">
                    <div class="card_front">
                        <img src="https://cdn.kastatic.org/third_party/javascript-khansrc/live-editor/build/images/avatars/aqualine-seed.png">
                        <h3 id="jonathan_title">Jonathan Alvarado<br><small><small>Co-founder</small></small></h3>
                    </div>
                    <div class="card_back">
                      <img src="https://cdn.kastatic.org/third_party/javascript-khansrc/live-editor/build/images/avatars/aqualine-seed.png">
                        <p>the most awesome person ever</p>
                    </div>
                </div>
            </div>
            
          </div>
          
          <div style="text-align: center;">
            <h1 id = "archive" style="margin-top: 5px; margin-bottom: 20px">Archive</h1>
          </div>

            <div class="filters">

              <select style="margin-left: 10px"id="yearDropdown" onchange="filterLessons()">
                <option value="">All Years</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
              </select>
              
              <select id="locationDropdown" onchange="filterLessons()">
                <option value="">All Locations</option>
                <option value="Armstrong">Armstrong</option>
                <option value="Payton">Payton</option>
              </select>

              <select id="gradeDropdown" onchange="filterLessons()">
                <option value="">All Grade Levels</option>
                <option value="Highschool">Highschool</option>
                <option value="Middleschool">Middleschool</option>
              </select>

              <select id="contentDropdown" onchange="filterLessons()">
                <option value="">All Content</option>
                <option value="Python">Python</option>
                <option value="AI">AI</option>
              </select>

              <div class = "search">
                <input id="search_box" style="font-size: 15px;" type="text" placeholder="Search lessons..." onkeyup="filterLessons()">
              </div>

            </div>

            <div id="lessonList" class="lesson-list"></div>
      </div>
    </main>
	<script src="index.js"></script>

  <script>
    const lessons = [
      { title: 'Lesson 1', year: 2023, location: 'Armstrong', topic: 'Cryptography', slides: 'https://docs.google.com/presentation/d/1GXlArHm44BKBC8FGOUotYgbutaMkB8qZpzX7fFpfiCo/embed?start=false&loop=false&delayms=3000' },
      { title: 'Lesson 2', year: 2024, location: 'London', topic: 'Science', slides: 'https://docs.google.com/presentation/d/1GXlArHm44BKBC8FGOUotYgbutaMkB8qZpzX7fFpfiCo/embed?start=false&loop=false&delayms=3000' },
      
      // Add more lesson objects as needed
    ];

    document.addEventListener('DOMContentLoaded', () => {
      displayLessons(lessons);
    });

    function filterLessons() {
      const year = document.getElementById('yearDropdown').value;
      const location = document.getElementById('locationDropdown').value;
      const searchQuery = document.getElementById('search_box').value.toLowerCase();

      const filteredLessons = lessons.filter(lesson => {
        return (year === '' || lesson.year == year) &&
               (location === '' || lesson.location == location) &&
               (searchQuery === '' || 
                lesson.title.toLowerCase().includes(searchQuery) || 
                lesson.topic.toLowerCase().includes(searchQuery));
      });

      displayLessons(filteredLessons);
    }

    function displayLessons(lessons) {
      const lessonList = document.getElementById('lessonList');
      lessonList.innerHTML = '';

      if (lessons.length === 0) {
        lessonList.innerHTML = '<p>No lessons found.</p>';
        return;
      }

      lessons.forEach(lesson => {
        const lessonItem = document.createElement('div');
        lessonItem.className = 'lesson-card';

        lessonItem.innerHTML = `<h3>${lesson.topic}</h3>
                                <iframe src="${lesson.slides}" frameborder="0" width="100%" height="200"></iframe>
                                <div class="tags">
                                  <span class="tag">${lesson.year}</span>
                                  <span class="tag">${lesson.location}</span>
                                </div>`;
        lessonList.appendChild(lessonItem);
      });
    }
  </script>

  </body>
</html>